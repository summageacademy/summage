<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin • Summage Academy</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="../otherassets/logo.jpg" type="image/jpeg" />
  <style>
    :root {
      --orange: #f24b0b;
      --green: #007a52;
      --bg: #f8fffe;
      --card: white;
      --text: #1a1a1a;
      --radius: 18px;
      --shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #e0f7fa 0%, #f0fdfa 100%);
      min-height: 100vh;
      color: var(--text);
    }

    /* MOBILE BLOCKER - FULL SCREEN OVERLAY */
    #mobileBlocker {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      z-index: 9999;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 40px;
      flex-direction: column;
    }
    #mobileBlocker.show { display: flex; }

    #mobileBlocker img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    #mobileBlocker h1 {
      font-family: 'Baloo 2', cursive;
      font-size: 36px;
      color: var(--orange);
      margin-bottom: 16px;
    }
    #mobileBlocker p {
      font-size: 18px;
      color: #444;
      max-width: 90%;
      line-height: 1.6;
    }
    #mobileBlocker .icon {
      font-size: 80px;
      margin-bottom: 20px;
    }

    /* Only show blocker on mobile */
    @media (max-width: 991px) {
      #mobileBlocker { display: flex !important; }
      body > *:not(#mobileBlocker) { display: none !important; }
    }

    /* Rest of your original beautiful styles below (unchanged) */
    .screen { display: none; }
    .screen.active { display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

    #loginScreen {
      padding: 20px;
      align-items: center;
      justify-content: center;
    }
    .login-card {
      background: white;
      padding: 50px 32px;
      border-radius: 28px;
      box-shadow: var(--shadow);
      width: 100%;
      max-width: 420px;
      text-align: center;
    }
    .logo {
      width: 100px; height: 100px;
      border-radius: 24px;
      margin-bottom: 24px;
      box-shadow: 0 8px 25px rgba(242,75,11,0.3);
    }
    .login-card h2 {
      font-family: 'Baloo 2', cursive;
      font-size: 36px;
      color: var(--orange);
      margin-bottom: 8px;
    }
    .subtitle { color: var(--green); font-size: 17px; margin-bottom: 30px; font-weight: 600; }

    .login-card input {
      width: 100%; padding: 18px; margin: 12px 0;
      border: 2px solid #eee; border-radius: 16px; font-size: 16px;
      transition: all 0.3s;
    }
    .login-card input:focus {
      outline: none; border-color: var(--orange); box-shadow: 0 0 0 4px rgba(242,75,11,0.2);
    }
    .login-card button {
      width: 100%; padding: 18px; margin-top: 20px;
      background: var(--orange); color: white; border: none;
      border-radius: 16px; font-size: 18px; font-weight: 600;
      cursor: pointer; transition: 0.3s;
    }
    .login-card button:hover { background: #e03a00; transform: translateY(-2px); }
    .error { color: #e74c3c; margin: 16px 0; font-size: 15px; min-height: 24px; }
    .loading { display: none; margin-top: 20px; color: var(--green); font-weight: 600; }

    .dash-header {
      background: white;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .header-left { display: flex; align-items: center; gap: 14px; }
    .header-logo { width: 48px; height: 48px; border-radius: 14px; }
    .dash-header h1 {
      font-family: 'Baloo 2', cursive;
      color: var(--orange);
      font-size: 26px;
    }

    .hamburger {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 44px; height: 44px;
      background: rgba(242,75,11,0.1);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      padding: 10px;
      transition: 0.3s;
    }
    .hamburger span {
      width: 100%; height: 3px;
      background: var(--orange);
      border-radius: 3px;
      transition: 0.3s;
      transform-origin: center;
    }
    .hamburger span:nth-child(2) { margin: 5px 0; }
    .hamburger.active span:nth-child(1) { transform: translateY(8px) rotate(45deg); }
    .hamburger.active span:nth-child(2) { opacity: 0; }
    .hamburger.active span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

    .btn-logout {
      background: var(--orange);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: -100%;
      width: 280px;
      height: 100vh;
      background: white;
      padding: 100px 24px 40px;
      box-shadow: 5px 0 30px rgba(0,0,0,0.2);
      transition: left 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      z-index: 999;
    }
    .sidebar.open { left: 0; }

    .sidebar-nav {display: flex;flex-direction: column;gap: 12px;}
    .sidebar-btn {
      padding: 18px 20px;
      background: transparent;
      border: none;
      border-radius: 16px;
      text-align: left;
      font-size: 17px;
      font-weight: 500;
      color: #444;
      cursor: pointer;
      transition: 0.3s;
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .sidebar-btn::before {
      content: "•";
      font-size: 24px;
      color: transparent;
    }
    .sidebar-btn:hover {
      background: rgba(242,75,11,0.1);
      color: var(--orange);
      transform: translateX(8px);
    }
    .sidebar-btn.active {
      background: var(--orange);
      color: white;
      font-weight: 600;
    }
    .sidebar-btn.active::before { color: white; }

    .content-area {
      flex: 1;
      padding: 30px 20px;
      overflow-y: auto;
      background: var(--bg);
    }

    .content-section {display: none;animation: fadeIn 0.5s ease;}
    .content-section.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: none; }
    }

    .hero-greeting {
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-align: left;
      margin-bottom: 60px;
    }

    .tasks-left {
      width: 40%;
      background: white;
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .today-date {
      font-size: 18px;
      color: var(--green);
      margin-bottom: 20px;
    }

    .task-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      background: rgba(242,75,11,0.1);
      border-radius: 12px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: 0.3s;
    }

    .task-container:hover {
      background: rgba(242,75,11,0.2);
    }

    .task-check {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .greeting-right {
      width: 55%;
      text-align: center;
    }

    .greeting-main {
      font-family: 'Baloo 2', cursive;
      font-size: 48px;
      background: linear-gradient(90deg, var(--green), var(--orange));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.2;
      margin-bottom: 10px;
    }
    .greeting-emoji { font-size: 70px; margin: 16px 0; }
    .greeting-sub {
      font-size: 18px;
      color: #555;
      max-width: 90%;
      margin: 0 auto;
    }
    .greeting-sub span { color: var(--orange); font-weight: 700; }

    .section-title {
      font-family: 'Baloo 2', cursive;
      font-size: 38px;
      color: var(--orange);
      text-align: center;
      margin-bottom: 30px;
    }

    .tool-card {
      background: white;
      padding: 40px 30px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      text-align: center;
      font-size: 17px;
      line-height: 1.6;
    }

    .overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 998;
    }
    .overlay.active { display: block; }

    @media (min-width: 992px) {
      .hamburger, .overlay { display: none; }
      .sidebar {
        position: static;
        width: 280px;
        height: auto;
        box-shadow: none;
        padding: 30px 20px;
        border-right: 1px solid #eee;
      }
      .dashboard-body { display: flex; flex: 1; }
      .content-area { padding: 40px; }
      .greeting-main { font-size: 62px; }
      .greeting-emoji { font-size: 90px; }
    }

    @media (max-width: 480px) {
      .login-card { padding: 40px 24px; }
      .greeting-main { font-size: 42px; }
      .greeting-emoji { font-size: 60px; }
      .section-title { font-size: 34px; }
      .tool-card { padding: 30px 20px; }
    }

    .back-btn {
      margin-top: 30px;
      padding: 16px 32px;
      background: var(--orange);
      color: white;
      border: none;
      border-radius: 16px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(242,75,11,0.3);
      transition: all 0.3s ease;
    }

    .back-btn:hover {
      background: #e03a00;
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(242,75,11,0.4);
    }
    /* Header right side - keeps everything aligned */
    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    /* Back to Website Button - Beautiful & Matches Your Design */
    .back-to-site-btn {
      background: transparent;
      color: var(--orange);
      border: 2px solid var(--orange);
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 15px;
      text-decoration: none;
      transition: all 0.3s ease;
      white-space: nowrap;
    }

    .back-to-site-btn:hover {
      background: var(--orange);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(242, 75, 11, 0.25);
    }

    /* Hide "Back to Website" button on mobile */
    @media (max-width: 991px) {
      .back-to-site-btn {
        display: none;
      }
      .header-right {
        gap: 12px;
      }
    }
  </style>
</head>
<body>

  <!-- MOBILE BLOCKER WITH BACK BUTTON -->
  <div id="mobileBlocker">
    <img src="../otherassets/logo.jpg" alt="Summage Academy">
    <h1>Desktop Only</h1>
    <p><strong>The Admin Panel is only available on Desktop computers.</strong><br><br>
      Please use a laptop or PC to access all features.</p>
    
    <button onclick="window.history.back()" class="back-btn">
      Back to Website
    </button>

    <p style="margin-top: 20px; font-size: 14px; color: #777;">
      Or <a href="index.html" style="color: #f24b0b; text-decoration: underline; font-weight:600;">go to Home Page</a>
    </p>
  </div>

  <!-- LOGIN -->
  <div id="loginScreen" class="screen active">
    <div class="login-card">
      <img src="../otherassets/logo.jpg" alt="Summage" class="logo">
      <h2>Admin Panel</h2>
      <p class="subtitle">Summage Academy</p>
      <div id="loginError" class="error"></div>
      <input type="email" id="loginEmail" placeholder="Email" />
      <input type="password" id="loginPassword" placeholder="Password" />
      <button id="loginBtn">Login</button>
      <div class="loading" id="loginLoading">Please wait...</div>
    </div>
  </div>

  <!-- DASHBOARD (unchanged) -->
  <div id="dashboard" class="screen">
    <!-- DASHBOARD HEADER - WITH BACK TO WEBSITE BUTTON (DESKTOP ONLY) -->
    <header class="dash-header">
      <!-- Hamburger (mobile only) -->
      <button id="hamburgerBtn" class="hamburger">
        <span></span><span></span><span></span>
      </button>

      <!-- Logo + Title -->
      <div class="header-left">
        <img src="../otherassets/logo.jpg" alt="Logo" class="header-logo">
        <h1>Admin Panel</h1>
      </div>

      <!-- Right side buttons -->
      <div class="header-right">
        <!-- Back to Website Button - Desktop Only -->
        <a href="../index.html" class="back-to-site-btn">
          Back to Website
        </a>

        <!-- Logout Button -->
        <button id="logoutBtn" class="btn-logout">Logout</button>
      </div>
    </header>

    <div class="dashboard-body">
      <div id="overlay" class="overlay"></div>

      <aside id="sidebar" class="sidebar">
        <nav class="sidebar-nav">
          <button class="sidebar-btn active" data-section="home">Home</button>
          <button class="sidebar-btn" data-section="team">Team Manager</button>
          <button class="sidebar-btn" data-section="courses">Courses</button>
          <button class="sidebar-btn" data-section="students">Students</button>
          <button class="sidebar-btn" data-section="analytics">Analytics</button>
          <button class="sidebar-btn" data-section="settings">Settings</button>
        </nav>
      </aside>

      <main class="content-area">
        <section id="home" class="content-section active">
          <div class="hero-greeting">
            <div class="tasks-left">
              <p class="today-date" id="todayDate"></p>
              <div class="task-container">Write Blog Post <input type="checkbox" class="task-check"></div>
              <div class="task-container">Write Article <input type="checkbox" class="task-check"></div>
              <div class="task-container">Visit Site Pages <input type="checkbox" class="task-check"></div>
            </div>
            <div class="greeting-right">
              <div id="dynamicGreeting"></div>
              <p class="greeting-sub">Welcome back, <span id="adminEmail">admin</span>! Ready to crush it today?</p>
            </div>
          </div>
        </section>

        <section id="team" class="content-section">
          <h2 class="section-title">Team Manager</h2>
          <div class="tool-card">Manage your team members, roles, and permissions.</div>
        </section>

        <section id="courses" class="content-section">
          <h2 class="section-title">Courses</h2>
          <div class="tool-card">Create and organize all courses in one place.</div>
        </section>

        <section id="students" class="content-section">
          <h2 class="section-title">Students</h2>
          <div class="tool-card">View student progress and manage enrollments.</div>
        </section>

        <section id="analytics" class="content-section">
          <h2 class="section-title">Analytics</h2>
          <div class="tool-card">Powerful insights and reports coming soon!</div>
        </section>

        <section id="settings" class="content-section">
          <h2 class="section-title">Settings</h2>
          <div class="tool-card">Customize your admin panel and preferences.</div>
        </section>
      </main>
    </div>
  </div>

  <!-- Firebase & JS (100% unchanged) -->
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDpCt1wgW8UpT6USV1Sq6XCjMRaxkfutcc",
      authDomain: "summage-e6ece.firebaseapp.com",
      projectId: "summage-e6ece",
      storageBucket: "summage-e6ece.firebasestorage.app",
      messagingSenderId: "80494356373",
      appId: "1:80494356373:web:16613b28988ccd6ede789c",
      measurementId: "G-VXD9R6SLDL"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function updateGreeting() {
      const h = new Date().getHours();
      let text = "Good Night", emoji = "Night";
      if (h >= 5 && h < 12) { text = "Good Morning"; emoji = "Sunrise"; }
      else if (h < 17) { text = "Good Afternoon"; emoji = "Sunny"; }
      else if (h < 22) { text = "Good Evening"; emoji = "Sunset"; }

      document.getElementById("dynamicGreeting").innerHTML = `
        <div class="greeting-main">${text}</div>
        <div class="greeting-emoji">${emoji}</div>
      `;
    }

    const hamburger = document.getElementById('hamburgerBtn');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    hamburger.onclick = () => {
      hamburger.classList.toggle('active');
      sidebar.classList.toggle('open');
      overlay.classList.toggle('active');
    };
    overlay.onclick = () => {
      hamburger.classList.remove('active');
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
    };

    document.querySelectorAll('.sidebar-btn').forEach(btn => {
      btn.onclick = () => {
        document.querySelectorAll('.sidebar-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.section).classList.add('active');
        hamburger.classList.remove('active');
        sidebar.classList.remove('open');
        overlay.classList.remove('active');
      };
    });

    document.getElementById('loginBtn').onclick = () => {
      const email = document.getElementById('loginEmail').value.trim();
      const pass = document.getElementById('loginPassword').value;
      if (!email || !pass) return document.getElementById('loginError').textContent = "Fill all fields";
      document.getElementById('loginLoading').style.display = "block";
      auth.signInWithEmailAndPassword(email, pass).catch(err => {
        document.getElementById('loginLoading').style.display = "none";
        document.getElementById('loginError').textContent = "Wrong email or password";
      });
    };

    document.getElementById('logoutBtn').onclick = () => auth.signOut();

    auth.onAuthStateChanged(user => {
      document.getElementById('loginLoading').style.display = "none";
      if (user) {
        document.getElementById('loginScreen').classList.remove('active');
        document.getElementById('dashboard').classList.add('active');
        document.getElementById('adminEmail').textContent = user.email.split('@')[0];
        updateGreeting();

        // Task list setup
        const today = new Date();
        const options = { day: 'numeric', month: 'long', year: 'numeric' };
        document.getElementById('todayDate').innerHTML = `Today's date: ${today.toLocaleDateString('en-US', options)}`;

        const taskKey = 'adminTasks_' + today.toDateString();
        const savedTasks = JSON.parse(localStorage.getItem(taskKey)) || [false, false, false];
        const checks = document.querySelectorAll('.task-check');
        const taskContainers = document.querySelectorAll('.task-container');

        checks.forEach((check, index) => {
          check.checked = savedTasks[index];
          check.addEventListener('change', () => {
            savedTasks[index] = check.checked;
            localStorage.setItem(taskKey, JSON.stringify(savedTasks));
          });
        });

        taskContainers.forEach((container, index) => {
          container.addEventListener('click', (e) => {
            if (e.target !== checks[index]) {
              checks[index].checked = !checks[index].checked;
              savedTasks[index] = checks[index].checked;
              localStorage.setItem(taskKey, JSON.stringify(savedTasks));
            }
          });
        });
      } else {
        document.getElementById('loginScreen').classList.add('active');
        document.getElementById('dashboard').classList.remove('active');
      }
    });
  </script>
</body>
</html>