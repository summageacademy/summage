<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Summage AI - IELTS Essay Checker</title>

  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Baloo+2:wght@600;700&display=swap" rel="stylesheet">

  <!-- Latest stable compromise.js -->
  <script src="https://unpkg.com/compromise"></script>

  <style>
    /* RESET + BASE */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(180deg, #f0fdfa 0%, #ffffff 80%);
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* HEADER */
    header {
      width: 100%;
      background: #ffffffee;
      backdrop-filter: blur(6px);
      border-bottom: 1px solid #eaeaea;
      padding: 16px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-img {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      object-fit: contain;
    }

    .logo-text {
      font-family: 'Baloo 2', cursive;
      font-size: 24px;
      color: #f24b0b;
      font-weight: 700;
    }

    .beta-badge {
      background: #ff6b35;
      color: white;
      font-size: 19px;
      font-weight: bold;
      padding: 4px 10px;
      border-radius: 20px;
      margin-left: 8px;
      letter-spacing: 0.5px;
    }
    
    /* BACK TO MENU BUTTON (PC ONLY) */
    .back-btn {
      background: linear-gradient(135deg, #f24b0b, #ff6b35);
      color: #fff;
      padding: 10px 22px;
      border-radius: 999px;
      font-size: 0.95rem;
      font-weight: 600;
      text-decoration: none;
      box-shadow: 0 6px 16px rgba(242, 75, 11, 0.25);
      transition: all 0.25s ease;
      white-space: nowrap;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 22px rgba(242, 75, 11, 0.35);
      background: linear-gradient(135deg, #e03a00, #ff5722);
    }

    /* PC ONLY */
    .pc-only {
      display: inline-flex;
      align-items: center;
    }

    /* HIDE ON MOBILE */
    @media (max-width: 768px) {
      .pc-only {
        display: none;
      }
    }


    /* MAIN CONTENT */
    main {
      flex: 1;
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px 25px;
      width: 100%;
    }

    .hero {
      text-align: center;
      padding-bottom: 40px;
      animation: fadeDown 1s ease;
    }

    .hero h1 {
      font-family: 'Baloo 2', cursive;
      font-size: 48px;
      color: #f24b0b;
      line-height: 1.2;
      margin-bottom: 12px;
    }

    .hero p {
      font-size: 1.1rem;
      color: #444;
      max-width: 700px;
      margin: 0 auto;
    }

    /* CARDS & FORMS */
    .card {
      background: #ffffff;
      border-radius: 16px;
      padding: 28px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.08);
      margin-bottom: 24px;
    }

    label {
      font-size: 0.95rem;
      color: #555;
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }

    input[type="text"], textarea {
      width: 100%;
      padding: 14px;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      font-size: 1rem;
      font-family: inherit;
      transition: border 0.2s;
    }

    input[type="text"]:focus, textarea:focus {
      outline: none;
      border-color: #f24b0b;
    }

    textarea {
      min-height: 320px;
      resize: vertical;
    }

    .task-switch {
      display: flex;
      gap: 24px;
      align-items: center;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .task-switch label {
      font-weight: 600;
      cursor: pointer;
    }

    .btn {
      background: #f24b0b;
      color: white;
      border: none;
      padding: 14px 32px;
      border-radius: 12px;
      font-size: 1.05rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 10px rgba(242,75,11,0.2);
    }

    .btn:hover {
      background: #e03a00;
      transform: translateY(-2px);
    }

    .word-info {
      display: flex;
      justify-content: space-between;
      margin-top: 12px;
      font-size: 0.95rem;
      color: #666;
    }

    /* RESULTS */
    .results {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 28px;
      margin-top: 32px;
    }

    @media (max-width: 980px) {
      .results { grid-template-columns: 1fr; }
    }

    .metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 16px;
      margin: 24px 0;
    }

    .metric {
      background: #fff8f0;
      padding: 20px;
      border-radius: 14px;
      text-align: center;
      border: 1px solid #ffe0d0;
    }

    .metric-label {
      font-size: 0.9rem;
      color: #777;
      margin-bottom: 8px;
    }

    .metric-score {
      font-size: 2.2rem;
      font-weight: bold;
      color: #f24b0b;
    }

    .overall-badge {
      background: #f24b0b;
      color: white;
      padding: 12px 24px;
      border-radius: 999px;
      font-size: 1.8rem;
      font-weight: bold;
    }

    .feedback-list {
      list-style: none;
      padding: 0;
      margin: 20px 0;
    }

    .feedback-list li {
      padding: 12px 0;
      border-bottom: 1px dashed #eee;
      font-size: 1rem;
    }

    .suggestion {
      padding: 16px;
      border-radius: 12px;
      margin: 16px 0;
      font-size: 1rem;
      line-height: 1.6;
    }

    .success { background: #f0fdf4; border-left: 5px solid #22c55e; color: #166534; }
    .warning { background: #fffbeb; border-left: 5px solid #f59e0b; color: #92400e; }
    .error { background: #fef2f2; border-left: 5px solid #ef4444; color: #991b1b; }

    .grammar-item {
      padding: 14px 0;
      border-bottom: 1px solid #f1f5f9;
    }

    .grammar-item:last-child { border-bottom: none; }

    .report-actions {
      margin-top: 24px;
      text-align: right;
    }

    .loading {
      color: #888;
      font-style: italic;
      text-align: center;
      padding: 20px;
    }

    /* FOOTER */
    footer {
      margin-top: auto;
      background: #ffffffee;
      border-top: 1px solid #eaeaea;
      padding: 30px;
      text-align: center;
      font-size: 0.9rem;
      color: #666;
    }

    /* ANIMATIONS */
    @keyframes fadeDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      header { flex-direction: column; gap: 12px; padding: 16px; }
      .hero h1 { font-size: 40px; }
      main { padding: 20px 16px; }
      .task-switch { flex-direction: column; align-items: flex-start; gap: 16px; }
      .btn { width: 100%; }
      .pc-subtitle { display: none;}
      .beta-badge { font-size: 17px;}
    }

    /* ================= MOBILE FOOTER NAV ================= */
    .bottom-nav {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 18px;
      display: flex;
      gap: 14px;
      align-items: flex-end;
      z-index: 1200;
      padding: 8px;
      -webkit-tap-highlight-color: transparent;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 58px;
      height: 58px;
      border-radius: 12px;
      background: linear-gradient(135deg, #2fd8ab, #06a87c);
      box-shadow: 0 8px 20px rgba(0,0,0,.12);
      border: 1px solid rgba(0,0,0,.04);
      transition: transform .16s ease, box-shadow .16s ease;
    }

    .nav-btn img {
      width: 26px;
      height: 26px;
    }

    .nav-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 28px rgba(0,0,0,.14);
    }

    .nav-btn:active {
      transform: scale(.95);
    }

    /* CENTER BUTTON */
    .nav-btn.center {
      width: 76px;
      height: 76px;
      border-radius: 18px;
      background: linear-gradient(135deg, #f9734b, #ffab25);
      box-shadow: 0 14px 36px rgba(255,120,50,.22);
      margin-bottom: 6px;
    }

    .nav-btn.center img {
      width: 34px;
      height: 34px;
      filter: brightness(0) invert(1);
    }

    /* VISIBILITY RULES */
    @media (min-width: 768px) {
      .bottom-nav { display: none; }
    }

    @media (max-width: 767px) {
      body {
        padding-bottom: 120px; /* prevent footer overlap */
      }
    }

        /* Mobile-only 320x50 Banner Ad */
    .mobile-banner-ad {
      display: none; /* Hidden by default */
      margin: 32px auto;
      text-align: center;
    }

    @media (max-width: 767px) {
      .mobile-banner-ad {
        display: block;
      }
    }

    /* Optional: Add subtle top/bottom spacing on very small screens */
    @media (max-width: 480px) {
      .mobile-banner-ad {
        margin: 24px auto;
      }
    }
    
  </style>
</head>
<body>

<header>
  <div class="logo-container">
    <!-- Replace src with your actual logo URL -->
    <img src="/otherassets/logo.jpg" alt="Summage Logo" class="logo-img">
    <div class="logo-text">Summage AI<span class="beta-badge">BETA</span></div>
  </div>
  <a href="/ielts-mocks/" class="back-btn pc-only">
    Back to IELTS Tools
  </a>

</header>

<!-- Sticky Skyscraper Ads - Desktop Only (Positioned Lower) -->
<div class="skyscraper-ad skyscraper-left">
    <!-- PLACE YOUR LEFT AD CODE HERE -->
    <div style="width: 160px; height: 600px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-family: sans-serif; color: #999; font-size: 14px; text-align: center;">
        <div id="7SAD156953A2E549B8F" data-7pub="7SAD156953A2E549B8F"></div>
                      <script src="https://code.adclickppc.com/7s-banner-ad.js"></script>
                      <script>
                      (function() {
                        initBannerAd(['7SAD156953A2E549B8F', 'banner',  5])
                        }())
                      </script>
    </div>
</div>

<div class="skyscraper-ad skyscraper-right">
    <!-- PLACE YOUR RIGHT AD CODE HERE -->
    <div style="width: 160px; height: 600px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-family: sans-serif; color: #999; font-size: 14px; text-align: center;">
        <div id="7SAD156953A2E549B8F" data-7pub="7SAD156953A2E549B8F"></div>
                      <script src="https://code.adclickppc.com/7s-banner-ad.js"></script>
                      <script>
                      (function() {
                        initBannerAd(['7SAD156953A2E549B8F', 'banner',  5])
                        }())
                      </script>
    </div>
</div>

<style>
    /* Sticky Skyscraper Ads - Visible only on desktop */
    .skyscraper-ad {
        position: fixed;
        top: 120px; /* Changed from centered to starting 120px from top */
        width: 160px;
        height: 600px;
        z-index: 9999; /* On top of everything */
        pointer-events: none; /* Click through the empty space */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease;
    }

    .skyscraper-left {
        left: 10px; /* Distance from left edge */
    }

    .skyscraper-right {
        right: 10px; /* Distance from right edge */
    }

    /* Allow clicks on the actual ad content */
    .skyscraper-ad > * {
        pointer-events: auto;
    }

    /* Show only on desktop (≥1024px) */
    @media (min-width: 1024px) {
        .skyscraper-ad {
            opacity: 1;
            visibility: visible;
        }
    }

    /* Optional: Hide on narrower screens to prevent overlap with content */
    @media (max-width: 1400px) {
        .skyscraper-ad {
            display: none;
        }
    }
</style>

<main>
  <section class="hero">
    <h1>Ultimate IELTS Essay Checker</h1>
    <p class="pc-subtitle">AI-powered analysis with realistic band scoring, grammar check, readability stats and detailed feedback — all in one place.</p>
  </section>

  <div class="card">
    <label>Prompt / Task Question (optional)</label>
    <input id="taskPrompt" type="text" placeholder="e.g. Some people think that the best way to increase road safety is to increase the minimum legal age for driving cars or riding motorbikes." />

    <div class="task-switch">
      <label><input type="radio" name="task" value="2" checked /> Task 2 (Essay)</label>
      <label><input type="radio" name="task" value="1" /> Task 1 (Graph/Report)</label>
      <div style="flex:1"></div>
      <button class="btn" id="checkBtn">Check My Essay</button>
    </div>
  </div>

  <!-- MOBILE-ONLY 320x50 BANNER AD -->
  <div class="mobile-banner-ad">
    <!-- PLACE YOUR MOBILE BANNER AD CODE HERE -->
    <!-- Example placeholder (replace with AdSense, etc.) -->
    <div style="width: 320px; height: 50px; background: #f0f0f0; border: 1px dashed #ccc; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-family: sans-serif; color: #999; font-size: 14px; margin: 0 auto;">
      Mobile Banner Ad<br>(320×50)
    </div>
  </div>

  <div class="card">
    <label>Your Essay</label>
    <textarea id="essay" placeholder="Paste your full IELTS essay here..."></textarea>
    <div class="word-info">
      <div>Minimum words: <strong><span id="minWords">250</span></strong></div>
      <div>Current words: <strong><span id="wc">0</span></strong></div>
    </div>
  </div>

  <div class="results" id="resultsPanel" style="display:none;">
    <div>
      <div class="card">
        <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:16px;">
          <div>
            <div style="font-size:1.6rem; font-weight:700;">Estimated Band Score</div>
            <div style="color:#666; margin-top:4px;">Based on official IELTS band descriptors</div>
          </div>
          <span id="overallBand" class="overall-badge">-</span>
          <div class="report-actions">
            <button class="btn" id="downloadBtn">Download Report</button>
          </div>
        </div>

        <div class="metrics">
          <div class="metric">
            <div class="metric-label">Task Response</div>
            <div class="metric-score" id="trBand">-</div>
          </div>
          <div class="metric">
            <div class="metric-label">Coherence & Cohesion</div>
            <div class="metric-score" id="ccBand">-</div>
          </div>
          <div class="metric">
            <div class="metric-label">Lexical Resource</div>
            <div class="metric-score" id="lrBand">-</div>
          </div>
          <div class="metric">
            <div class="metric-label">Grammar Range & Accuracy</div>
            <div class="metric-score" id="grBand">-</div>
          </div>
        </div>

        <div id="quickNotes"></div>

        <h3 style="margin:20px 0 12px; color:#f24b0b; font-family:'Baloo 2', cursive;">Detailed Analysis</h3>
        <ul class="feedback-list" id="feedbackList"></ul>

        <h3 style="margin:24px 0 12px; color:#f24b0b; font-family:'Baloo 2', cursive;">Key Suggestions</h3>
        <div id="highlights"></div>
      </div>
    </div>

    <div>
      <div class="card">
        <h3 style="margin:0 0 16px; color:#f24b0b; font-family:'Baloo 2', cursive;">Grammar & Spelling Check</h3>
        <div id="grammarResults" class="loading">Click "Check My Essay" to analyze grammar.</div>
      </div>

      <div class="card" style="margin-top:20px;">
        <h3 style="margin:0 0 16px; color:#f24b0b; font-family:'Baloo 2', cursive;">Readability & Statistics</h3>
        <div id="statsPanel">-</div>
      </div>
    </div>
  </div>
</main>

<footer>
  &copy; 2025 Summage • Advanced IELTS Writing Checker
</footer>

<!-- MOBILE FOOTER -->
<nav class="bottom-nav" aria-label="Mobile navigation">
  <a class="nav-btn" href="/blog-posts/" aria-label="Blogs">
    <img src="/icons/blogfooter.png" alt="Blogs">
  </a>

  <a class="nav-btn center" href="/ielts-mocks/" aria-label="Home">
    <img src="/icons/backward.png" alt="Home">
  </a>

  <a class="nav-btn" href="/profile/" aria-label="Profile">
    <img src="/icons/profile-user.png" alt="Profile">
  </a>
</nav>



<script src="ai-checker.js"></script>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script src="/firebase-init.js"></script>
<script src="/auth-guard.js"></script>

</body>
</html>